!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=6)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.React}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(2),c=a(3),i=a(4),l=a(5),o=a(1),d=a.n(o);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var s=d.a.createElement("path",{d:"M42.9 38.3V38c2.9-.6 4.3-2.2 4.3-4.8V21.6c0-5.4-2.7-8.2-8-8.2H23.3c-.2-.6-.7-1-1.4-1-.8 0-1.4.6-1.4 1.4s.6 1.4 1.4 1.4c.7 0 1.2-.4 1.4-1H29v22.1h-5.7c-.2-.6-.7-1-1.4-1-.8 0-1.4.6-1.4 1.4s.6 1.4 1.4 1.4c.7 0 1.2-.4 1.4-1H29v20.7h-5.6c-.2-.6-.7-1-1.4-1-.8 0-1.4.6-1.4 1.4 0 .8.6 1.4 1.4 1.4.7 0 1.2-.4 1.4-1H41c4.6 0 6.8-2.2 6.8-6.7v-8.4c.1-2.6-1.6-4.3-4.9-5.2zm-8-19.4h3.6c1.8 0 2.7 1.1 2.7 3.3v9.9c0 2.2-1.2 3.3-3.4 3.3H35V18.9zm6.9 32.2c0 1.3-.8 1.9-2.4 1.9h-4.5V40.8h3.3c2.4 0 3.6 1.1 3.6 3.2v7.1z"});console.info(wp.components),Object(c.registerBlockType)("clashplayer/media",{title:Object(r.__)("ClashPlayer","clashplayer"),icon:{src:function(e){return d.a.createElement("svg",u({viewBox:"0 0 72 72"},e),s)}},category:"clashplayer",attributes:{urlaudio:{type:"string",source:"attribute",selector:"source",attribute:"src"},urlvideo:{type:"string",source:"attribute",selector:"source",attribute:"src"}},supports:{align:["wide","full"]},edit:function(e){console.log(e);var t=e.attributes.urlaudio,a=e.setAttributes,r=e.className;return Object(o.useEffect)((function(){var e=document.getElementById("audio_controls");document.createElement("audio").canPlayType||(e.style.display="none");var t=document.querySelector("audio");document.getElementById("play_toggle").addEventListener("click",(function(){t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2?(t.pause(),this.innerHTML='<i class="fa fa-play" aria-hidden="true" title="Play"></i>'):(t.play(),t.preload="metadata",this.innerHTML='<i class="fa fa-pause" aria-hidden="true" title="Pause"></i>')})),document.getElementById("rewind").addEventListener("click",(function(){this.innerHTML='<i class="fa fa-backward" aria-hidden="true" title="Backward"></i>',t.currentTime-=10})),document.getElementById("forward").addEventListener("click",(function(){this.innerHTML='<i class="fa fa-forward" aria-hidden="true" title="Forward"></i>',t.currentTime+=10}));var a=document.getElementById("play_progress");t.addEventListener("timeupdate",(function(){var e=this.currentTime/this.duration*100;a.style.width=e+"%"}));var n=document.getElementById("load_progress");function r(){if(t.buffered.length>0){var e=t.buffered.end(0)/t.duration*100;n.style.width=e+"%"}}t.addEventListener("progress",(function(){r()})),t.addEventListener("loadeddata",(function(){r()})),t.addEventListener("canplaythrough",(function(){r()})),t.addEventListener("playing",(function(){r()}));var c=document.getElementById("duration_time"),i=document.getElementById("current_time");function l(e){e=Math.round(e);var t=Math.floor(e/60);return(t=t>=10?t:"0"+t)+":"+(e=(e=Math.floor(e%60))>=10?e:"0"+e)}t.addEventListener("timeupdate",(function(){i.innerHTML=l(this.currentTime)})),t.addEventListener("durationchange",(function(){c.innerHTML=l(this.duration)})),document.getElementById("volume").addEventListener("change",(function(e){t.volume=e.target.value}));var o=document.getElementById("seek"),d=document.getElementById("playback");t.addEventListener("durationchange",(function(e){e.target.duration&&(o.max=e.target.duration)})),t.addEventListener("durationchange",(function(e){e.target.duration&&(d.max=e.target.duration)})),o.addEventListener("change",(function(e){t.currentTime=e.target.value,d.value=e.target.value}))})),Object(n.createElement)("div",{className:"".concat(r," clashplayer-block clashplayer-editable")},Object(n.createElement)(i.InspectorControls,null,Object(n.createElement)(l.TextControl,{label:"Audio URL",help:"type audio url into this field",value:t,onChange:function(e){a({urlaudio:e})}})),Object(n.createElement)("audio",{id:"result_player"},Object(n.createElement)("source",{src:"".concat(t,".mp3"),preload:"metadata",type:"audio/mpeg"}),Object(n.createElement)("source",{src:t,preload:"metadata",type:"audio/ogg"}),Object(n.createElement)("source",{src:t,preload:"metadata",type:"audio/mp4"}),Object(n.createElement)("p",null)),Object(n.createElement)("div",{id:"audio_controls"},Object(n.createElement)("div",{id:"btns_box"},Object(n.createElement)("button",{id:"play_toggle",className:"player-button"},Object(n.createElement)("i",{className:"fa fa-play","aria-hidden":"true",title:"Play"})),Object(n.createElement)("button",{id:"rewind",className:"player-button"},Object(n.createElement)("i",{className:"fa fa-backward","aria-hidden":"true",title:"Backward"})),Object(n.createElement)("button",{id:"forward",className:"player-button"},Object(n.createElement)("i",{className:"fa fa-forward","aria-hidden":"true",title:"Forward"}))),Object(n.createElement)("div",{id:"progress"},Object(n.createElement)("progress",{value:"0",id:"playback"}),Object(n.createElement)("span",{id:"load_progress"}),Object(n.createElement)("span",{id:"play_progress"})),Object(n.createElement)("div",{id:"time"},Object(n.createElement)("span",null,"current time"),Object(n.createElement)("span",{id:"current_time"},"00:00"),Object(n.createElement)("span",null,"duration"),Object(n.createElement)("span",{id:"duration_time"},"00:00")),Object(n.createElement)("div",{id:"video_volume"},Object(n.createElement)("label",{id:"volume_bar",htmlFor:"volume"}),Object(n.createElement)("input",{type:"range",id:"volume",title:"volume",min:"0",max:"1",step:"0.1",value:"1"})),Object(n.createElement)("div",{id:"video_seek"},Object(n.createElement)("label",{htmlFor:"seek"}),Object(n.createElement)("input",{type:"range",id:"seek",title:"seek",min:"0",value:"0",max:"0"}))))},save:function(e){console.log(e);var t=e.attributes.urlaudio,a=e.className;return Object(n.createElement)("div",{className:"".concat(a," clashplayer-block clashplayer-static")},Object(n.createElement)("audio",{id:"result_player"},Object(n.createElement)("source",{src:"".concat(t,".mp3"),preload:"metadata",type:"audio/mpeg"}),Object(n.createElement)("source",{src:t,preload:"metadata",type:"audio/ogg"}),Object(n.createElement)("source",{src:t,preload:"metadata",type:"audio/mp4"}),Object(n.createElement)("p",null)),Object(n.createElement)("div",{id:"audio_controls"},Object(n.createElement)("div",{id:"btns_box"},Object(n.createElement)("button",{id:"play_toggle",className:"player-button"},Object(n.createElement)("i",{className:"fa fa-play","aria-hidden":"true",title:"Play"})),Object(n.createElement)("button",{id:"rewind",className:"player-button"},Object(n.createElement)("i",{className:"fa fa-backward","aria-hidden":"true",title:"Backward"})),Object(n.createElement)("button",{id:"forward",className:"player-button"},Object(n.createElement)("i",{className:"fa fa-forward","aria-hidden":"true",title:"Forward"}))),Object(n.createElement)("div",{id:"progress"},Object(n.createElement)("progress",{value:"0",id:"playback"}),Object(n.createElement)("span",{id:"load_progress"}),Object(n.createElement)("span",{id:"play_progress"})),Object(n.createElement)("div",{id:"time"},Object(n.createElement)("span",null,"Current Time"),Object(n.createElement)("span",{id:"current_time"},"00:00"),Object(n.createElement)("span",null,"Duration"),Object(n.createElement)("span",{id:"duration_time"},"00:00")),Object(n.createElement)("div",{id:"video_volume"},Object(n.createElement)("label",{id:"volume_bar",htmlFor:"volume"}),Object(n.createElement)("input",{type:"range",id:"volume",title:"volume",min:"0",max:"1",step:"0.1",value:"1"})),Object(n.createElement)("div",{id:"video_seek"},Object(n.createElement)("label",{htmlFor:"seek"}),Object(n.createElement)("input",{type:"range",id:"seek",title:"seek",min:"0",value:"0",max:"0"}))))}})}]);