!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,a,l){return(a=function(t){var a=function(t,a){if("object"!==e(t)||null===t)return t;var l=t[Symbol.toPrimitive];if(void 0!==l){var o=l.call(t,a);if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===e(a)?a:String(a)}(a))in t?Object.defineProperty(t,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[a]=l,t}var a=window.wp.element,l=window.wp.i18n,o=window.wp.blocks,r=window.wp.blockEditor,n=window.wp.components,s=(window.React,window.wp.hooks);(0,s.addFilter)("editor.MediaUpload","core/edit-post/components/media-upload/replace-media-upload",(function(){return r.MediaUpload})),(0,o.registerBlockType)("clashplayer/audio",{title:(0,l.__)("ClashPlayer Audio","clashplayer"),icon:{src:"format-audio"},category:"media",attributes:{src:{type:"string",source:"attribute",selector:"source",attribute:"src"},types:{type:"string",source:"attribute",selector:"source",attribute:"type"},id:{type:"number"},autoplay:{type:"boolean",source:"attribute",selector:"source",attribute:"autoplay"},loop:{type:"boolean",source:"attribute",selector:"source",attribute:"loop"},preload:{type:"string",source:"attribute",selector:"source",attribute:"preload"}},supports:{align:["wide","full","none"],ariaLabel:!0,color:!0},edit:function(e){var o=e.attributes,s=o.id,i=o.autoplay,c=o.loop,u=o.preload,d=o.src,m=o.types,p=e.setAttributes,b=e.className,v=e.noticeOperations;function y(e){return function(a){p(t({},e,a))}}return[(0,a.createElement)(r.InspectorControls,null,(0,a.createElement)(n.PanelBody,{title:(0,l.__)("Audio settings")},(0,a.createElement)(n.TextControl,{label:"Audio URL",help:"type audio url into this field",value:d,onChange:function(e){p({src:e})}}),(0,a.createElement)(n.ToggleControl,{label:(0,l.__)("Autoplay"),onChange:y("autoplay"),checked:i,help:function(e){return e?(0,l.__)("Note: Autoplaying audio may cause usability issues for some visitors."):null}}),(0,a.createElement)(n.ToggleControl,{label:(0,l.__)("Loop"),onChange:y("loop"),checked:c}),(0,a.createElement)(n.SelectControl,{label:(0,l.__)("Preload"),value:u||"",onChange:function(e){return p({preload:e||void 0})},options:[{value:"",label:(0,l.__)("Browser default")},{value:"auto",label:(0,l.__)("Auto")},{value:"metadata",label:(0,l.__)("Metadata")},{value:"none",label:(0,l.__)("None")}]}),(0,a.createElement)(n.SelectControl,{label:(0,l.__)("Format"),value:m||"",onChange:function(e){return p({types:e||void 0})},options:[{value:"audio/mpeg",label:(0,l.__)("Browser default (mpeg)")},{value:"audio/ogg",label:(0,l.__)("ogg")},{value:"audio/m4a",label:(0,l.__)("m4a")}]}))),(0,a.createElement)("div",{className:"".concat(b," clashplayer-block clashplayer-editable")},(0,a.createElement)(r.BlockControls,null,(0,a.createElement)(n.Toolbar,null,(0,a.createElement)(r.MediaReplaceFlow,{mediaId:s,mediaURL:d,allowedTypes:["audio"],accept:"audio/*",onSelect:function(e){e&&e.url?p({src:e.url,id:e.id}):p({src:void 0,id:void 0})},onSelectURL:function(e){p({src:e,id:void 0})},onError:function(e){v.removeAllNotices(),v.createErrorNotice(e)}}))),(0,a.createElement)("audio",{id:"clashaudio-player",preload:u,loop:c,autoPlay:i},(0,a.createElement)("source",{src:d,type:m}),(0,a.createElement)("track",{src:"fgsubtitles_en.vtt",kind:"captions",srcLang:"en",label:"English"})),(0,a.createElement)("div",{className:"audio-controls video-controls"},(0,a.createElement)("div",{id:"btns-box"},(0,a.createElement)("button",{id:"play-toggle",className:"player-button audio-toggle",type:"button"},(0,a.createElement)("span",{className:"dashicons dashicons-controls-play"})),(0,a.createElement)("button",{id:"rewind",className:"player-button audio-rewind",type:"button"},(0,a.createElement)("span",{className:"dashicons dashicons-controls-back"})),(0,a.createElement)("button",{id:"forward",className:"player-button audio-forward",type:"button"},(0,a.createElement)("span",{className:"dashicons dashicons-controls-forward"}))),(0,a.createElement)("div",{id:"progress"},(0,a.createElement)("progress",{value:"0",id:"playback",className:"audio-playback"}),(0,a.createElement)("span",{id:"load-progress",className:"audio-load-progress"}),(0,a.createElement)("span",{id:"play-progress",className:"audio-play-progress"})),(0,a.createElement)("div",{className:"audio-seek"},(0,a.createElement)("label",{htmlFor:"seek"},(0,a.createElement)("input",{type:"range",id:"seek",title:"seek",min:"0",value:"0",max:"100"}))),(0,a.createElement)("div",{id:"time",className:"audio-time"},(0,a.createElement)("span",null,"current time"),(0,a.createElement)("span",{id:"current-time",className:"audio-current"},"00:00"),(0,a.createElement)("span",null,"duration"),(0,a.createElement)("span",{id:"duration-time",className:"audio-duration"},"00:00")),(0,a.createElement)("div",{className:"audio-volume"},(0,a.createElement)("label",{id:"volume-bar",htmlFor:"volume"},(0,a.createElement)("input",{type:"range",id:"volume",title:"volume",min:"0",max:"1",step:"0.1",value:"1"})),(0,a.createElement)("button",{type:"button",title:"mute volume",id:"mute-volume",className:"dashicons dashicons-controls-volumeon"}))))]},save:function(e){var t=e.attributes,l=t.src,o=t.preload,r=t.loop,n=t.autoplay,s=t.types,i=e.className;return(0,a.createElement)("div",{className:"".concat(i," clashplayer-block clashplayer-static")},(0,a.createElement)("audio",{id:"clashaudio-player",preload:o,loop:r,autoPlay:n},(0,a.createElement)("source",{src:l,type:s}),(0,a.createElement)("track",{src:"fgsubtitles_en.vtt",kind:"captions",srcLang:"en",label:"English"})),(0,a.createElement)("div",{className:"audio-controls"},(0,a.createElement)("div",{id:"btns-box"},(0,a.createElement)("button",{id:"play-toggle",className:"player-button audio-toggle",type:"button"},(0,a.createElement)("span",{className:"dashicons dashicons-controls-play"})),(0,a.createElement)("button",{id:"rewind",className:"player-button audio-rewind",type:"button"},(0,a.createElement)("span",{className:"dashicons dashicons-controls-back"})),(0,a.createElement)("button",{id:"forward",className:"player-button audio-forward",type:"button"},(0,a.createElement)("span",{className:"dashicons dashicons-controls-forward"}))),(0,a.createElement)("div",{id:"progress"},(0,a.createElement)("progress",{value:"0",id:"playback",className:"audio-playback"}),(0,a.createElement)("span",{id:"load-progress",className:"audio-load-progress"}),(0,a.createElement)("span",{id:"play-progress",className:"audio-play-progress"})),(0,a.createElement)("div",{className:"audio-seek"},(0,a.createElement)("label",{htmlFor:"seek"},(0,a.createElement)("input",{type:"range",id:"seek",title:"seek",min:"0",value:"0",max:"100"}))),(0,a.createElement)("div",{id:"time",className:"audio-time"},(0,a.createElement)("span",null,"current time"),(0,a.createElement)("span",{id:"current-time",className:"audio-current"},"00:00"),(0,a.createElement)("span",null,"duration"),(0,a.createElement)("span",{id:"duration-time",className:"audio-duration"},"00:00")),(0,a.createElement)("div",{className:"audio-volume"},(0,a.createElement)("label",{id:"volume-bar",htmlFor:"volume"},(0,a.createElement)("input",{type:"range",id:"volume",title:"volume",min:"0",max:"1",step:"0.1",value:"1"})),(0,a.createElement)("button",{type:"button",title:"mute volume",id:"mute-volume",className:"dashicons dashicons-controls-volumeon"}))))}}),(0,s.addFilter)("editor.MediaUpload","core/edit-post/components/media-upload/replace-media-upload",(function(){return r.MediaUpload})),(0,o.registerBlockType)("clashplayer/video",{title:(0,l.__)("ClashPlayer Video","clashplayer"),icon:{src:"format-video"},category:"media",attributes:{src:{type:"string",source:"attribute",selector:"source",attribute:"src"},types:{type:"string",source:"attribute",selector:"source",attribute:"type"},id:{type:"number"},autoplay:{type:"boolean",source:"attribute",selector:"source",attribute:"autoplay"},loop:{type:"boolean",source:"attribute",selector:"source",attribute:"loop"},preload:{type:"string",source:"attribute",selector:"source",attribute:"preload"}},supports:{align:["wide","full","none"],ariaLabel:!0,color:!0},edit:function(e){var o=e.attributes,s=o.id,i=o.autoplay,c=o.loop,u=o.preload,d=o.src,m=o.types,p=e.setAttributes,b=e.className,v=e.noticeOperations;function y(e){return function(a){p(t({},e,a))}}return[(0,a.createElement)(r.InspectorControls,null,(0,a.createElement)(n.PanelBody,{title:(0,l.__)("Video settings")},(0,a.createElement)(n.TextControl,{label:"Video URL",help:"type video url into this field",value:d,onChange:function(e){p({src:e})}}),(0,a.createElement)(n.ToggleControl,{label:(0,l.__)("Autoplay"),onChange:y("autoplay"),checked:i,help:function(e){return e?(0,l.__)("Note: Autoplaying audio may cause usability issues for some visitors."):null}}),(0,a.createElement)(n.ToggleControl,{label:(0,l.__)("Loop"),onChange:y("loop"),checked:c}),(0,a.createElement)(n.SelectControl,{label:(0,l.__)("Preload"),value:u||"",onChange:function(e){return p({preload:e||void 0})},options:[{value:"",label:(0,l.__)("Browser default")},{value:"auto",label:(0,l.__)("Auto")},{value:"metadata",label:(0,l.__)("Metadata")},{value:"none",label:(0,l.__)("None")}]}),(0,a.createElement)(n.SelectControl,{label:(0,l.__)("Format"),value:m||"",onChange:function(e){return p({types:e||void 0})},options:[{value:"video/mp4",label:(0,l.__)("Browser default (mp4)")},{value:"video/webm",label:(0,l.__)("webm")}]}))),(0,a.createElement)("div",{className:"".concat(b," clashplayer-block clashplayer-editable")},(0,a.createElement)(r.BlockControls,null,(0,a.createElement)(n.Toolbar,null,(0,a.createElement)(r.MediaReplaceFlow,{mediaId:s,mediaURL:d,allowedTypes:["video"],accept:"video/*",onSelect:function(e){e&&e.url?p({src:e.url,id:e.id}):p({src:void 0,id:void 0})},onSelectURL:function(e){p({src:e,id:void 0})},onError:function(e){v.removeAllNotices(),v.createErrorNotice(e)}}))),(0,a.createElement)("video",{id:"clashvideo-player",preload:u,loop:c,autoPlay:i},(0,a.createElement)("source",{src:d,type:m}),(0,a.createElement)("track",{src:"fgsubtitles_en.vtt",kind:"captions",srcLang:"en",label:"English"})),(0,a.createElement)("div",{className:"audio-controls video-controls"},(0,a.createElement)("div",{id:"btns-box"},(0,a.createElement)("button",{id:"play-toggle",className:"player-button video-toggle",type:"button"},(0,a.createElement)("span",{className:"dashicons dashicons-controls-play"})),(0,a.createElement)("button",{id:"rewind",className:"player-button video-rewind",type:"button"},(0,a.createElement)("span",{className:"dashicons dashicons-controls-back"})),(0,a.createElement)("button",{id:"forward",className:"player-button video-forward",type:"button"},(0,a.createElement)("span",{className:"dashicons dashicons-controls-forward"}))),(0,a.createElement)("div",{id:"progress"},(0,a.createElement)("progress",{value:"0",id:"playback",className:"video-playback"}),(0,a.createElement)("span",{id:"load-progress",className:"video-load-progress"}),(0,a.createElement)("span",{id:"play-progress",className:"video-play-progress"})),(0,a.createElement)("div",{className:"video-seek"},(0,a.createElement)("label",{htmlFor:"seek"},(0,a.createElement)("input",{type:"range",id:"seek",title:"seek",min:"0",value:"0",max:"100"}))),(0,a.createElement)("div",{id:"time",className:"video-time"},(0,a.createElement)("span",null,"current time"),(0,a.createElement)("span",{id:"current-time",className:"video-current"},"00:00"),(0,a.createElement)("span",null,"duration"),(0,a.createElement)("span",{id:"duration-time",className:"video-duration"},"00:00")),(0,a.createElement)("div",{className:"video-volume"},(0,a.createElement)("label",{id:"volume-bar",htmlFor:"volume"},(0,a.createElement)("input",{type:"range",id:"volume",title:"volume",min:"0",max:"1",step:"0.1",value:"1"})),(0,a.createElement)("button",{type:"button",title:"mute volume",id:"mute-volume",className:"dashicons dashicons-controls-volumeon"}))))]},save:function(e){var t=e.attributes,l=t.src,o=t.preload,r=t.loop,n=t.autoplay,s=t.types,i=e.className;return(0,a.createElement)("div",{className:"".concat(i," clashplayer-block clashplayer-static")},(0,a.createElement)("video",{id:"clashvideo-player",preload:o,loop:r,autoPlay:n},(0,a.createElement)("source",{src:l,type:s}),(0,a.createElement)("track",{src:"fgsubtitles_en.vtt",kind:"captions",srcLang:"en",label:"English"})),(0,a.createElement)("div",{className:"video-controls"},(0,a.createElement)("div",{id:"btns-box"},(0,a.createElement)("button",{id:"play-toggle",className:"player-button video-toggle",type:"button"},(0,a.createElement)("span",{className:"dashicons dashicons-controls-play"})),(0,a.createElement)("button",{id:"rewind",className:"player-button video-rewind",type:"button"},(0,a.createElement)("span",{className:"dashicons dashicons-controls-back"})),(0,a.createElement)("button",{id:"forward",className:"player-button video-forward",type:"button"},(0,a.createElement)("span",{className:"dashicons dashicons-controls-forward"}))),(0,a.createElement)("div",{id:"progress"},(0,a.createElement)("progress",{value:"0",id:"playback",className:"video-playback"}),(0,a.createElement)("span",{id:"load-progress",className:"video-load-progress"}),(0,a.createElement)("span",{id:"play-progress",className:"video-play-progress"})),(0,a.createElement)("div",{className:"video-seek"},(0,a.createElement)("label",{htmlFor:"seek"},(0,a.createElement)("input",{type:"range",id:"seek",title:"seek",min:"0",value:"0",max:"100"}))),(0,a.createElement)("div",{id:"time",className:"video-time"},(0,a.createElement)("span",null,"current time"),(0,a.createElement)("span",{id:"current-time",className:"video-current"},"00:00"),(0,a.createElement)("span",null,"duration"),(0,a.createElement)("span",{id:"duration-time",className:"video-duration"},"00:00")),(0,a.createElement)("div",{className:"video-volume"},(0,a.createElement)("label",{id:"volume-bar",htmlFor:"volume"},(0,a.createElement)("input",{type:"range",id:"volume",title:"volume",min:"0",max:"1",step:"0.1",value:"1"})),(0,a.createElement)("button",{type:"button",title:"mute volume",id:"mute-volume",className:"dashicons dashicons-controls-volumeon"}))))}})}();