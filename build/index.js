!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=7)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.React}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t){e.exports=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t,a){"use strict";a.r(t);var n=a(5),r=a.n(n),l=a(0),c=a(1),o=a(6),i=a(4),u=a(2),d=a(3),s=a.n(d);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var p=s.a.createElement("path",{d:"M42.9 38.3V38c2.9-.6 4.3-2.2 4.3-4.8V21.6c0-5.4-2.7-8.2-8-8.2H23.3c-.2-.6-.7-1-1.4-1-.8 0-1.4.6-1.4 1.4s.6 1.4 1.4 1.4c.7 0 1.2-.4 1.4-1H29v22.1h-5.7c-.2-.6-.7-1-1.4-1-.8 0-1.4.6-1.4 1.4s.6 1.4 1.4 1.4c.7 0 1.2-.4 1.4-1H29v20.7h-5.6c-.2-.6-.7-1-1.4-1-.8 0-1.4.6-1.4 1.4 0 .8.6 1.4 1.4 1.4.7 0 1.2-.4 1.4-1H41c4.6 0 6.8-2.2 6.8-6.7v-8.4c.1-2.6-1.6-4.3-4.9-5.2zm-8-19.4h3.6c1.8 0 2.7 1.1 2.7 3.3v9.9c0 2.2-1.2 3.3-3.4 3.3H35V18.9zm6.9 32.2c0 1.3-.8 1.9-2.4 1.9h-4.5V40.8h3.3c2.4 0 3.6 1.1 3.6 3.2v7.1z"});Object(o.registerBlockType)("clashplayer/media",{title:Object(c.__)("ClashPlayer","clashplayer"),icon:{src:function(e){return s.a.createElement("svg",m({viewBox:"0 0 72 72"},e),p)}},category:"clashplayer",attributes:{src:{type:"string",source:"attribute",selector:"source",attribute:"src"},types:{type:"string",source:"attribute",selector:"source",attribute:"type"},id:{type:"number"},autoplay:{type:"boolean",source:"attribute",selector:"audio",attribute:"autoplay"},loop:{type:"boolean",source:"attribute",selector:"audio",attribute:"loop"},preload:{type:"string",source:"attribute",selector:"audio",attribute:"preload"}},supports:{align:["wide","full"]},edit:function(e){console.log(e);var t=e.attributes,a=t.id,n=t.autoplay,o=t.loop,s=t.preload,m=t.src,p=t.types,b=e.setAttributes,f=e.className,v=e.noticeOperations;function y(e){return function(t){b(r()({},e,t))}}return Object(d.useEffect)((function(){var e=document.getElementById("audio_controls");document.createElement("audio").canPlayType||(e.style.display="none");var t=document.querySelector("audio");document.getElementById("play_toggle").addEventListener("click",(function(){t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2?(t.pause(),this.innerHTML='<i class="fa fa-play" aria-hidden="true" title="Play"></i>'):(t.play(),t.preload="metadata",this.innerHTML='<i class="fa fa-pause" aria-hidden="true" title="Pause"></i>')})),document.getElementById("rewind").addEventListener("click",(function(){this.innerHTML='<i class="fa fa-backward" aria-hidden="true" title="Backward"></i>',t.currentTime-=10})),document.getElementById("forward").addEventListener("click",(function(){this.innerHTML='<i class="fa fa-forward" aria-hidden="true" title="Forward"></i>',t.currentTime+=10}));var a=document.getElementById("play_progress");t.addEventListener("timeupdate",(function(){var e=this.currentTime/this.duration*100;a.style.width=e+"%"}));var n=document.getElementById("load_progress");function r(){if(t.buffered.length>0){var e=t.buffered.end(0)/t.duration*100;n.style.width=e+"%"}}t.addEventListener("progress",(function(){r()})),t.addEventListener("loadeddata",(function(){r()})),t.addEventListener("canplaythrough",(function(){r()})),t.addEventListener("playing",(function(){r()}));var l=document.getElementById("duration_time"),c=document.getElementById("current_time");function o(e){e=Math.round(e);var t=Math.floor(e/60);return(t=t>=10?t:"0"+t)+":"+(e=(e=Math.floor(e%60))>=10?e:"0"+e)}t.addEventListener("timeupdate",(function(){c.innerHTML=o(this.currentTime)})),t.addEventListener("durationchange",(function(){l.innerHTML=o(this.duration)})),document.getElementById("volume").addEventListener("change",(function(e){t.volume=e.target.value}));var i=document.getElementById("seek"),u=document.getElementById("playback");t.addEventListener("durationchange",(function(e){e.target.duration&&(i.max=e.target.duration)})),t.addEventListener("durationchange",(function(e){e.target.duration&&(u.max=e.target.duration)})),i.addEventListener("change",(function(e){t.currentTime=e.target.value,u.value=e.target.value}))})),Object(l.createElement)("div",{className:"".concat(f," clashplayer-block clashplayer-editable")},Object(l.createElement)(i.BlockControls,null,Object(l.createElement)(u.Toolbar,null,Object(l.createElement)(i.MediaReplaceFlow,{mediaId:a,mediaURL:m,allowedTypes:["audio"],accept:"audio/*",onSelect:function(e){e&&e.url?b({src:e.url,id:e.id}):b({src:void 0,id:void 0})},onSelectURL:function(e){b({src:e,id:void 0})},onError:function(e){v.removeAllNotices(),v.createErrorNotice(e)}}))),Object(l.createElement)(i.InspectorControls,null,Object(l.createElement)(u.PanelBody,{title:Object(c.__)("Audio settings")},Object(l.createElement)(u.TextControl,{label:"Audio URL",help:"type audio url into this field",value:m,onChange:function(e){b({imgUrl:e})}}),Object(l.createElement)(u.ToggleControl,{label:Object(c.__)("Autoplay"),onChange:y("autoplay"),checked:n,help:function(e){return e?Object(c.__)("Note: Autoplaying audio may cause usability issues for some visitors."):null}}),Object(l.createElement)(u.ToggleControl,{label:Object(c.__)("Loop"),onChange:y("loop"),checked:o}),Object(l.createElement)(u.SelectControl,{label:Object(c.__)("Preload"),value:s||"",onChange:function(e){return b({preload:e||void 0})},options:[{value:"",label:Object(c.__)("Browser default")},{value:"auto",label:Object(c.__)("Auto")},{value:"metadata",label:Object(c.__)("Metadata")},{value:"none",label:Object(c.__)("None")}]}),Object(l.createElement)(u.SelectControl,{label:Object(c.__)("Format"),value:p||"",onChange:function(e){return b({types:e||void 0})},options:[{value:"audio/mpeg",label:Object(c.__)("Browser default")},{value:"audio/mpeg",label:Object(c.__)("mp3")},{value:"audio/ogg",label:Object(c.__)("ogg")},{value:"audio/mp4",label:Object(c.__)("mp4")}]}))),Object(l.createElement)("audio",{id:"result_player"},Object(l.createElement)("source",{src:m,preload:s,loop:o,autoplay:n,type:p}),Object(l.createElement)("p",null)),Object(l.createElement)("div",{id:"audio_controls"},Object(l.createElement)("div",{id:"btns_box"},Object(l.createElement)("button",{id:"play_toggle",className:"player-button"},Object(l.createElement)("i",{className:"fa fa-play","aria-hidden":"true",title:"Play"})),Object(l.createElement)("button",{id:"rewind",className:"player-button"},Object(l.createElement)("i",{className:"fa fa-backward","aria-hidden":"true",title:"Backward"})),Object(l.createElement)("button",{id:"forward",className:"player-button"},Object(l.createElement)("i",{className:"fa fa-forward","aria-hidden":"true",title:"Forward"}))),Object(l.createElement)("div",{id:"progress"},Object(l.createElement)("progress",{value:"0",id:"playback"}),Object(l.createElement)("span",{id:"load_progress"}),Object(l.createElement)("span",{id:"play_progress"})),Object(l.createElement)("div",{id:"time"},Object(l.createElement)("span",null,"current time"),Object(l.createElement)("span",{id:"current_time"},"00:00"),Object(l.createElement)("span",null,"duration"),Object(l.createElement)("span",{id:"duration_time"},"00:00")),Object(l.createElement)("div",{id:"video_volume"},Object(l.createElement)("label",{id:"volume_bar",htmlFor:"volume"}),Object(l.createElement)("input",{type:"range",id:"volume",title:"volume",min:"0",max:"1",step:"0.1",value:"1"})),Object(l.createElement)("div",{id:"video_seek"},Object(l.createElement)("label",{htmlFor:"seek"}),Object(l.createElement)("input",{type:"range",id:"seek",title:"seek",min:"0",value:"0",max:"0"}))))},save:function(e){var t=e.attributes,a=t.src,n=t.preload,r=t.loop,c=t.autoplay,o=e.className;return Object(l.createElement)("div",{className:"".concat(o," clashplayer-block clashplayer-static")},Object(l.createElement)("audio",{id:"result_player"},Object(l.createElement)("source",{src:a,preload:n,loop:r,autoplay:c,type:"audio/mpeg"}),Object(l.createElement)("source",{src:a,preload:n,loop:r,autoplay:c,type:"audio/ogg"}),Object(l.createElement)("source",{src:a,preload:n,loop:r,autoplay:c,type:"audio/mp4"}),Object(l.createElement)("p",null)),Object(l.createElement)("div",{id:"audio_controls"},Object(l.createElement)("div",{id:"btns_box"},Object(l.createElement)("button",{id:"play_toggle",className:"player-button"},Object(l.createElement)("i",{className:"fa fa-play","aria-hidden":"true",title:"Play"})),Object(l.createElement)("button",{id:"rewind",className:"player-button"},Object(l.createElement)("i",{className:"fa fa-backward","aria-hidden":"true",title:"Backward"})),Object(l.createElement)("button",{id:"forward",className:"player-button"},Object(l.createElement)("i",{className:"fa fa-forward","aria-hidden":"true",title:"Forward"}))),Object(l.createElement)("div",{id:"progress"},Object(l.createElement)("progress",{value:"0",id:"playback"}),Object(l.createElement)("span",{id:"load_progress"}),Object(l.createElement)("span",{id:"play_progress"})),Object(l.createElement)("div",{id:"time"},Object(l.createElement)("span",null,"Current Time"),Object(l.createElement)("span",{id:"current_time"},"00:00"),Object(l.createElement)("span",null,"Duration"),Object(l.createElement)("span",{id:"duration_time"},"00:00")),Object(l.createElement)("div",{id:"video_volume"},Object(l.createElement)("label",{id:"volume_bar",htmlFor:"volume"}),Object(l.createElement)("input",{type:"range",id:"volume",title:"volume",min:"0",max:"1",step:"0.1",value:"1"})),Object(l.createElement)("div",{id:"video_seek"},Object(l.createElement)("label",{htmlFor:"seek"}),Object(l.createElement)("input",{type:"range",id:"seek",title:"seek",min:"0",value:"0",max:"0"}))))}})}]);